# 08.29 - 09.04

这周主要是熟悉了客户端机器人的代码，将测试网络控制策略的代码改为与主干兼容的，将相应的分支合并进了开发分支。
在此基础上重新搭建起了测试环境。

此外进行了北京办公室的重新选址和搬家。

# 09.05 - 09.11

这周开始在位于上地的新办公室工作。

研究了带宽控制和检测的工具。阅读了Linux下tc的相关文档（<http://tldp.org/HOWTO/Traffic-Control-HOWTO/index.html>等），掌握了其使用。

讨论确定了网络控制算法的评测系统方案。第一步先进行基于模拟的评测，用tc结合脚本生成按指定曲线来变化的带宽，算法的目标是使决策结果与该曲线相符。

完善log输出并观测统计数据，并发现了一个测试机器人“反复回声”的问题。目前用a、b两个机器人互相通话来测试网络带宽控制策略时，二者互相回声，导致数据反复发送，带宽爆满。应该把收到的数据消费掉才对，下周与洛哥确认一下。

# 09.12 - 09.18

与洛哥确认并解决了“反复回声”的问题。

阅读了<http://lartc.org/howto/lartc.qdisc.html>，进一步掌握tc。

搞定了网络控制算法的模拟评测系统：实现了带宽限制和可用带宽数据上报的代码，修改了之前磊哥写的曲线绘制程序，运行得到了可用带宽变化曲线和算法建议码率的变化曲线，能观察二者的相符程度。
目前还仅限于带宽限制，丢包和延时的模拟可以用tc-netem来类似实现。

开始用GitLab的issue系统来记录已知的问题或应做的工作，防止忘记。

# 09.19 - 09.25

完成了一个效果还不错的控制算法。目前只采用了接收数据量大小来进行带宽的估计；下一步可以加入对传输时间的利用，但需要先保证传输时间是正确、有意义的。

用上周的评测系统进行了验证。与之前的算法相比，在对带宽变化的跟踪方面表现差不多，结果平滑性有很大提高。

# 09.26 - 10.02

将新实现的控制算法改为PID（比例-积分-微分）控制框架，增加通用性和可调节参数。上周的算法相当于是一个P控制器，这周加上了积分部分，成为一个PI控制器。
主要改进在于消除了稳态误差，也就是说，当不限速时，建议码率能够逐步提升至人为规定的上限。

把他人实现的算法也用模拟评测系统进行了评测，发现编号为2的算法（可以看到是洛哥实现的算法）效果不错。目前采用的编号为5的算法（周超实现的）效果并不好。这就引出一个问题，到底模拟评测与实际评测区别在哪里？
后面开始考察实际评测系统。

撰写了新的网络控制器的算法说明文档。

开始考虑丢包率；开始处理之前遗留的问题，包括重构echorobot代码。
